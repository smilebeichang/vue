(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3329f18"],{"07fe":function(t,e,a){},"2b7d":function(t,e,a){"use strict";a("07fe")},"72a0":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i}));var r=[{value:1,label:"简单"},{value:2,label:"一般"},{value:3,label:"困难"}],n=[{value:1,label:"单选"},{value:2,label:"多选"},{value:3,label:"简答"}],i=["o2o","外包服务","企业服务","互联网金融","企业咨询","互联网","电子商务","其他"]},"87b6":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"questions-preview"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("【题型】："+t._s(t.dataObj.questionType))]),a("el-col",{attrs:{span:6}},[t._v("【编号】："+t._s(t.dataObj.id))]),a("el-col",{attrs:{span:6}},[t._v("【难度】："+t._s(t.dataObj.difficulty))]),a("el-col",{attrs:{span:6}},[t._v("【标签】："+t._s(t.dataObj.tags))])],1),a("el-row",[a("el-col",{attrs:{span:6}},[t._v("【学科】："+t._s(t.dataObj.subjectName))]),a("el-col",{attrs:{span:6}},[t._v("【目录】："+t._s(t.dataObj.directoryName))]),a("el-col",{attrs:{span:6}},[t._v("【方向】："+t._s(t.dataObj.direction))])],1),a("hr"),a("el-row",[t._v(" 【题干】： "),a("div",{staticClass:"ti-gan",domProps:{innerHTML:t._s(t.dataObj.question)}})]),a("div",{staticClass:"duo-xuan"},["简答"!==t.dataObj.questionType?a("el-row",[t._v(" "+t._s(t.dataObj.questionType)+"题 选项：（以下选中的选项为正确答案） ")]):t._e(),t._l(t.dataObj.options,(function(e){return a("el-row",{key:e.id},["单选"===t.dataObj.questionType?a("el-radio",{attrs:{disabled:"",label:1},model:{value:e.isRight,callback:function(a){t.$set(e,"isRight",a)},expression:"v.isRight"}},[t._v(" "+t._s(e.code)+"："+t._s(e.title)+" ")]):t._e(),"多选"===t.dataObj.questionType?a("el-checkbox",{attrs:{disabled:"",checked:Boolean(e.isRight)}},[t._v(" "+t._s(e.code)+"："+t._s(e.title)+" ")]):t._e()],1)}))],2),a("hr"),a("el-row",[t._v(" 【参考答案】："),a("el-button",{attrs:{disabled:null===t.dataObj.videoURL||""===t.dataObj.videoURL,type:"danger"},on:{click:function(e){t.showVideo=!0}}},[t._v(" "+t._s(null===t.dataObj.videoURL||""===t.dataObj.videoURL?"无视频":"视频答案解析")+" ")]),a("div",[t.showVideo?a("video",{attrs:{src:t.dataObj.videoURL,controls:"controls"}}):t._e()])],1),a("hr"),a("el-row",[t._v(" 【答案解析】： "),a("span",{domProps:{innerHTML:t._s(t.dataObj.answer)}})]),a("hr"),a("el-row",[t._v(" 【题目备注】： "+t._s(t.dataObj.remarks)+" ")])],1)},n=[],i=a("1da1"),o=(a("96cf"),a("a9e3"),a("d3b7"),a("159b"),a("72a0")),s=a("d700"),l={name:"QuestionsPreview",components:{},props:{id:{type:[Number,String],required:!0}},data:function(){return{dataObj:{},showVideo:!1}},computed:{},watch:{},created:function(){this.getDetail()},methods:{getDetail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["e"])({id:t.id});case 2:a=e.sent,r=a.data,o["a"].forEach((function(t){t.value===r.difficulty-0&&(r.difficulty=t.label)})),o["c"].forEach((function(t){t.value===r.questionType-0&&(r.questionType=t.label)})),t.dataObj=r;case 7:case"end":return e.stop()}}),e)})))()}}},c=l,u=(a("2b7d"),a("2877")),f=Object(u["a"])(c,r,n,!1,null,"6680887c",null);e["default"]=f.exports},"8e79":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"container questions"},[a("el-row",{staticClass:"header"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.$router.push("/questions/new")}}},[t._v("新增试题")])],1),a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.formData,"label-position":"right","label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"学科"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.subjectID,callback:function(e){t.$set(t.formData,"subjectID",t._n(e))},expression:"formData.subjectID"}},t._l(t.subjectList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"二级目录"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.catalogID,callback:function(e){t.$set(t.formData,"catalogID",t._n(e))},expression:"formData.catalogID"}},t._l(t.secondaryDirectoryListing,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.tags,callback:function(e){t.$set(t.formData,"tags",t._n(e))},expression:"formData.tags"}},t._l(t.tagsList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticClass:"w200",attrs:{placeholder:"根据题干搜索"},model:{value:t.formData.keyword,callback:function(e){t.$set(t.formData,"keyword","string"===typeof e?e.trim():e)},expression:"formData.keyword"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"试题类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.questionType,callback:function(e){t.$set(t.formData,"questionType",t._n(e))},expression:"formData.questionType"}},t._l(t.questionType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"难度"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.difficulty,callback:function(e){t.$set(t.formData,"difficulty",t._n(e))},expression:"formData.difficulty"}},t._l(t.difficulty,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"方向"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.direction,callback:function(e){t.$set(t.formData,"direction",e)},expression:"formData.direction"}},t._l(t.direction,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"录入人"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.creatorID,callback:function(e){t.$set(t.formData,"creatorID",t._n(e))},expression:"formData.creatorID"}},t._l(t.userList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.username,value:t.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"题目备注"}},[a("el-input",{staticClass:"w200",attrs:{placeholder:"审批人"},model:{value:t.formData.remarks,callback:function(e){t.$set(t.formData,"remarks","string"===typeof e?e.trim():e)},expression:"formData.remarks"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业简称"}},[a("el-input",{staticClass:"w200",attrs:{placeholder:"审批人"},model:{value:t.formData.shortName,callback:function(e){t.$set(t.formData,"shortName","string"===typeof e?e.trim():e)},expression:"formData.shortName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"flex50",attrs:{label:"城市"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.province,callback:function(e){t.$set(t.formData,"province",e)},expression:"formData.province"}},t._l(t.provincesSY,(function(t){return a("el-option",{key:t.city,attrs:{label:t.city,value:t.city}})})),1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.city,callback:function(e){t.$set(t.formData,"city",e)},expression:"formData.city"}},t._l(t.citys,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"left156",attrs:{size:"small"},on:{click:t.remove}},[t._v("清除 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.searchBtn}},[t._v(" 查询 ")])],1)],1)],1),a("el-row",[a("el-alert",{attrs:{title:"当前有"+t.counts+"条数据",type:"info","show-icon":""}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"number",label:"试题编号"}}),a("el-table-column",{attrs:{prop:"subject",label:"学科"}}),a("el-table-column",{attrs:{prop:"catalog",label:"目录"}}),a("el-table-column",{attrs:{prop:"questionType",label:"题型"}}),a("el-table-column",{attrs:{label:"题干","min-width":"280px"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{domProps:{innerHTML:t._s(r.question)}})]}}])}),a("el-table-column",{attrs:{label:"录入时间",width:"155px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("parseTimeSy")(a.addDate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"difficulty",label:"难度"}}),a("el-table-column",{attrs:{prop:"creator",label:"录入人",width:"90px"}}),a("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-view",circle:""},on:{click:function(e){t.preview=!0,t.currentId=r.id}}}),a("el-button",{attrs:{plain:"",type:"success",icon:"el-icon-edit",circle:""},on:{click:function(e){return t.$router.push("/questions/new?id="+r.id+"&or=list")}}}),a("el-button",{attrs:{plain:"",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.deleteItem(r.id)}}}),a("el-button",{attrs:{plain:"",type:"warning",icon:"el-icon-check",circle:""},on:{click:function(e){return t.choice(r.id)}}})]}}])})],1),a("el-pagination",{attrs:{background:"","current-page":t.formData.page,"page-sizes":[2,5,10,20],"page-size":t.formData.pagesize,layout:"prev, pager, next, sizes, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"提示",visible:t.dialog.visible,width:"30%","before-close":t.dialogClose},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[a("el-alert",{staticClass:"whiteBGC",attrs:{title:t.dialog.title,type:t.dialog.type,"show-icon":"",closable:!1}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.dialogClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.dialogPerform}},[t._v(" 确 定 ")])],1)],1),a("el-dialog",{attrs:{title:"题目预览",visible:t.preview,width:"80%"},on:{"update:visible":function(e){t.preview=e}}},[t.preview?a("questions-preview",{attrs:{id:t.currentId}}):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.preview=!1}}},[t._v("关闭")])],1)],1)],1)},n=[],i=a("ade3"),o=a("5530"),s=a("1da1"),l=(a("96cf"),a("d3b7"),a("159b"),a("72a0")),c=a("b59c"),u=a("d700"),f=a("87b6"),d={name:"Questions",components:{QuestionsPreview:f["default"]},props:{},data:function(){return{counts:0,formData:{page:1,pagesize:5,subjectID:"",catalogID:"",tags:"",keyword:"",questionType:"",difficulty:"",direction:"",creatorID:"",remarks:"",shortName:"",province:"",city:""},subjectList:[],secondaryDirectoryListing:[],tagsList:[],questionType:l["c"],difficulty:l["a"],direction:l["b"],userList:[],provincesSY:c["c"],citys:[],tableData:[],dialog:{visible:!1,title:"",type:""},currentId:"",preview:!1}},methods:{onSubmit:function(){console.log("submit!")},getDataList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n in r={},t)t[n]&&(r=Object(o["a"])(Object(o["a"])({},r),{},Object(i["a"])({},n,t[n])));return a.next=4,Object(u["h"])(r);case 4:s=a.sent,l=s.data,l.items.forEach((function(t){e.difficulty.forEach((function(e){e.value===t.difficulty-0&&(t.difficulty=e.label)})),e.questionType.forEach((function(e){e.value===t.questionType-0&&(t.questionType=e.label)}))})),e.tableData=l.items,e.counts=l.counts;case 9:case"end":return a.stop()}}),a)})))()},getCourseList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["j"])();case 2:a=e.sent,r=a.data,t.subjectList=r;case 5:case"end":return e.stop()}}),e)})))()},getSecondaryDirectory:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.formData.subjectID,e.next=3,Object(u["i"])({subjectID:a});case 3:r=e.sent,n=r.data,t.secondaryDirectoryListing=n;case 6:case"end":return e.stop()}}),e)})))()},getTagsList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["k"])();case 2:a=e.sent,r=a.data,t.tagsList=r;case 5:case"end":return e.stop()}}),e)})))()},getUserList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["l"])();case 2:a=e.sent,r=a.data,t.userList=r;case 5:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.formData.pagesize=t,this.getDataList({page:this.formData.page,pagesize:t})},handleCurrentChange:function(t){this.formData.page=t,this.getDataList({page:t,pagesize:this.formData.pagesize})},searchBtn:function(){this.getDataList(this.formData)},remove:function(){this.formData={page:1,pagesize:5,subjectID:"",catalogID:"",tags:"",keyword:"",questionType:"",difficulty:"",direction:"",creatorID:"",remarks:"",shortName:"",province:"",city:""}},deleteItem:function(t){this.dialog={visible:!0,title:"此操作将永久删除该题目, 是否继续?",type:"warning"},this.currentId=t},choice:function(t){this.dialog={visible:!0,title:"此操作将该题目加入精选, 是否继续?",type:"info"},this.currentId=t},dialogPerform:function(){var t=this;"warning"===this.dialog.type?Object(u["m"])({id:this.currentId}).then((function(e){var a=e.data;t.$message({message:a.success?"删除成功":"删除失败",type:a.success?"success":"error"}),t.getDataList({page:t.formData.page,pagesize:t.formData.pagesize})})):Object(u["b"])({id:this.currentId,choiceState:1}).then((function(e){var a=e.data;t.$message({message:a.success?"加入精选成功":"操作失败",type:a.success?"success":"error"}),t.getDataList({page:t.formData.page,pagesize:t.formData.pagesize})})),this.dialog={visible:!1,title:"",type:""}},dialogClose:function(){this.dialog={visible:!1,title:"",type:""}}},computed:{},watch:{formData:{deep:!0,handler:function(){var t=this;this.getSecondaryDirectory(),this.provincesSY.forEach((function(e){e.city===t.formData.province&&(t.citys=e.area)}))}}},created:function(){this.getDataList({page:this.formData.page,pagesize:this.formData.pagesize}),this.getCourseList(),this.getTagsList(),this.getUserList()}},p=d,b=(a("d7f0"),a("2877")),m=Object(b["a"])(p,r,n,!1,null,"4e52f986",null);e["default"]=m.exports},d700:function(t,e,a){"use strict";a.d(e,"h",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"k",(function(){return s})),a.d(e,"l",(function(){return l})),a.d(e,"m",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return f})),a.d(e,"g",(function(){return d})),a.d(e,"d",(function(){return p})),a.d(e,"f",(function(){return b})),a.d(e,"a",(function(){return m})),a.d(e,"n",(function(){return v})),a.d(e,"c",(function(){return g}));a("99af");var r=a("b775"),n=function(t){return Object(r["a"])("/questions","get",t)},i=function(t){return Object(r["a"])("/subjects/simple","get",t)},o=function(t){return Object(r["a"])("/directorys/simple","get",t)},s=function(t){return Object(r["a"])("/tags/simple","get",t)},l=function(t){return Object(r["a"])("/users/simple","get",t)},c=function(t){return Object(r["a"])("/questions/".concat(t.id),"delete",t)},u=function(t){return Object(r["a"])("/questions/choice/".concat(t.id,"/").concat(t.choiceState),"patch",t)},f=function(t){return Object(r["a"])("/questions/".concat(t.id),"get",t)},d=function(t){return Object(r["a"])("/questions/choice","get",t)},p=function(t){return Object(r["a"])("/questions/choice/".concat(t.id,"/").concat(t.publishState),"post",t)},b=function(t){return Object(r["a"])("/companys","get",t)},m=function(t){return Object(r["a"])("/questions","post",t)},v=function(t){return Object(r["a"])("/questions/".concat(t.id),"put",t)},g=function(t){return Object(r["a"])("/questions/check/".concat(t.id),"post",t)}},d7f0:function(t,e,a){"use strict";a("ee9e")},ee9e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-d3329f18.696a8371.js.map