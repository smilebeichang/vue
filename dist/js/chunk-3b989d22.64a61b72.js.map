{"version":3,"sources":["webpack:///./src/module-hmmm/components/companys-add.vue?4f84","webpack:///src/module-hmmm/components/companys-add.vue","webpack:///./src/module-hmmm/components/companys-add.vue?0a52","webpack:///./src/module-hmmm/components/companys-add.vue","webpack:///./src/module-hmmm/components/companys-add.vue?1563","webpack:///./src/api/base/users.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","titleInfo","text","pageTitle","dialogFormVisible","on","$event","ref","staticStyle","ruleInline","formBase","model","value","callback","$$v","$set","expression","_v","type","indexOf","_k","keyCode","key","handleFilter","apply","arguments","handleProvince","_l","citySelect","item","minRows","maxRows","slot","dialogFormH","_s","$t","createData","staticRenderFns","name","props","Object","required","data","province","cityDate","shortName","tags","computed","methods","dialogFormV","getCityData","city","$refs","dataForm","validate","mounted","created","updated","component","list","createAPI","add","update","id","remove","detail"],"mappings":"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","file":"js/chunk-3b989d22.64a61b72.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form\"},[_c('el-dialog',{attrs:{\"title\":_vm.titleInfo.text+_vm.titleInfo.pageTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"width\":\"80%\",\"margin-left\":\"10px\"},attrs:{\"rules\":_vm.ruleInline,\"model\":_vm.formBase,\"label-position\":\"left\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"企业名称\",\"prop\":\"shortName\"}},[_c('el-input',{model:{value:(_vm.formBase.shortName),callback:function ($$v) {_vm.$set(_vm.formBase, \"shortName\", $$v)},expression:\"formBase.shortName\"}}),_c('el-checkbox',{model:{value:(_vm.formBase.isFamous),callback:function ($$v) {_vm.$set(_vm.formBase, \"isFamous\", $$v)},expression:\"formBase.isFamous\"}},[_vm._v(\"是否为名企\")])],1),_c('el-form-item',{attrs:{\"label\":\"所属公司\",\"prop\":\"company\"}},[_c('el-input',{model:{value:(_vm.formBase.company),callback:function ($$v) {_vm.$set(_vm.formBase, \"company\", $$v)},expression:\"formBase.company\"}}),_c('p',[_vm._v(\"https://www.tianyancha.com （在此可查询所属公司全称及简称）\")])],1),_c('el-form-item',{attrs:{\"label\":\"城市\",\"prop\":\"province\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"filterable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter.apply(null, arguments)},\"change\":_vm.handleProvince},model:{value:(_vm.formBase.province),callback:function ($$v) {_vm.$set(_vm.formBase, \"province\", $$v)},expression:\"formBase.province\"}},_vm._l((_vm.citySelect.province),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"filterable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter.apply(null, arguments)}},model:{value:(_vm.formBase.city),callback:function ($$v) {_vm.$set(_vm.formBase, \"city\", $$v)},expression:\"formBase.city\"}},_vm._l((_vm.citySelect.cityDate),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"方向（企业标签）\",\"prop\":\"tags\"}},[_c('el-input',{model:{value:(_vm.formBase.tags),callback:function ($$v) {_vm.$set(_vm.formBase, \"tags\", $$v)},expression:\"formBase.tags\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4},\"placeholder\":\"请输入\"},model:{value:(_vm.formBase.remarks),callback:function ($$v) {_vm.$set(_vm.formBase, \"remarks\", $$v)},expression:\"formBase.remarks\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.dialogFormH}},[_vm._v(_vm._s(_vm.$t('table.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(_vm._s(_vm.$t('table.confirm')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"add-form\">\r\n    <el-dialog :title=\"titleInfo.text+titleInfo.pageTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form\r\n        :rules=\"ruleInline\"\r\n        ref=\"dataForm\"\r\n        :model=\"formBase\"\r\n        label-position=\"left\"\r\n        label-width=\"150px\"\r\n        style=\"width: 80%; margin-left:10px;\"\r\n      >\r\n        <el-form-item label=\"企业名称\" prop=\"shortName\">\r\n          <el-input v-model=\"formBase.shortName\"></el-input>\r\n          <el-checkbox v-model=\"formBase.isFamous\">是否为名企</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属公司\" prop=\"company\">\r\n          <el-input v-model=\"formBase.company\"></el-input>\r\n          <p>https://www.tianyancha.com （在此可查询所属公司全称及简称）</p>\r\n        </el-form-item>\r\n        <el-form-item label=\"城市\" prop=\"province\">\r\n          <el-select\r\n            class=\"filter-item\"\r\n            style=\"width: 130px;\"\r\n            v-model=\"formBase.province\"\r\n            @keyup.enter=\"handleFilter\"\r\n            @change=\"handleProvince\"\r\n            filterable\r\n          >\r\n            <el-option v-for=\"item in citySelect.province\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n          </el-select>\r\n          <el-select\r\n            class=\"filter-item\"\r\n            style=\"width: 130px;\"\r\n            v-model=\"formBase.city\"\r\n            @keyup.enter=\"handleFilter\"\r\n            filterable\r\n          >\r\n            <el-option v-for=\"item in citySelect.cityDate\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"方向（企业标签）\" prop=\"tags\">\r\n          <el-input v-model=\"formBase.tags\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remarks\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :autosize=\"{ minRows: 2, maxRows: 4}\"\r\n            placeholder=\"请输入\"\r\n            v-model=\"formBase.remarks\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormH\">{{$t('table.cancel')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"createData\">{{$t('table.confirm')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { update, add } from '@/api/base/users'\r\nimport { provinces, citys } from '@/api/hmmm/citys.js'\r\nexport default {\r\n  name: 'CompanysAdd',\r\n  props: {\r\n    titleInfo: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    formBase: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      dialogFormVisible: false,\r\n      citySelect: {\r\n        province: [],\r\n        cityDate: []\r\n      },\r\n      // 表单验证\r\n      ruleInline: {\r\n        shortName: [\r\n          { required: true, message: '企业简称不能为空', trigger: 'blur' }\r\n        ],\r\n        province: [\r\n          { required: true, message: '请选择省份', trigger: 'change' }\r\n        ],\r\n        tags: [{ required: true, message: '请请输标签', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    // 弹层显示\r\n    dialogFormV () {\r\n      this.dialogFormVisible = true\r\n    },\r\n    // 弹层隐藏\r\n    dialogFormH () {\r\n      this.dialogFormVisible = false\r\n    },\r\n    // 获取省\r\n    getCityData: function () {\r\n      this.citySelect.province = provinces()\r\n    },\r\n    // 选省获取到市\r\n    handleProvince: function (e) {\r\n      this.citySelect.cityDate = citys(e)\r\n      this.formBase.city = this.citySelect.cityDate[0]\r\n    },\r\n    // 表单提交\r\n    createData () {\r\n      this.$refs.dataForm.validate(async valid => {\r\n        if (valid) {\r\n          this.dialogFormH()\r\n          const data = {\r\n            ...this.formBase\r\n          }\r\n          if (this.formBase.id) {\r\n            await update(data).then(() => {\r\n              this.$emit('newDataes', this.formBase)\r\n            })\r\n          } else {\r\n            await add(this.formBase).then(() => {\r\n              this.$emit('newDataes', this.formBase)\r\n            })\r\n          }\r\n        } else {\r\n          this.$message.error('*号为必填项!')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  // 挂载结束\r\n\r\n  mounted: function () {},\r\n  // 创建完毕状态\r\n  created () {\r\n    this.getCityData()\r\n  },\r\n  // 组件更新\r\n  updated: function () {}\r\n}\r\n</script>\r\n<style>\r\n.el-form--label-left .el-form-item__label {\r\n  text-align: right;\r\n}\r\n.el-form-item--medium {\r\n  margin-bottom: 22px;\r\n}\r\n.el-dialog__footer {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./companys-add.vue?vue&type=template&id=44cd9740&\"\nimport script from \"./companys-add.vue?vue&type=script&lang=js&\"\nexport * from \"./companys-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./companys-add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys-add.vue?vue&type=style&index=0&lang=css&\"","import { createAPI } from '@/utils/request'\r\n\r\nexport const list = (data) => createAPI('/users/', 'get', data)\r\nexport const simple = (data) => createAPI('/users/simple', 'get', data)\r\nexport const add = (data) => createAPI('/users', 'post', data)\r\nexport const update = (data) => createAPI(`/users/${data.id}`, 'put', data)\r\nexport const remove = (id) => createAPI(`/users/${id}`, 'delete')\r\nexport const detail = (id) => createAPI(`/users/${id}`, 'get')\r\n"],"sourceRoot":""}