{"version":3,"sources":["webpack:///./src/module-hmmm/pages/subjects.vue?a196","webpack:///src/module-hmmm/pages/subjects.vue","webpack:///./src/module-hmmm/pages/subjects.vue?0c07","webpack:///./src/module-hmmm/pages/subjects.vue","webpack:///./src/module-hmmm/pages/subjects.vue?8cf3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","subjectList","callback","$$v","$set","expression","on","delFn","_v","getList","$event","isDialog","items","staticStyle","list","scopedSlots","_u","key","fn","scope","_s","_f","row","addDate","isFrontDisplay","$router","push","revise","delRole","page","pagesize","handleSizeChange","handleCurrentChange","ref","ruleForm","rules","slot","btnOk","currSubject","updateList","staticRenderFns","components","name","data","switchs","inpVal","isDelRoleDialog","subjectName","formModel","id","formRules","methods","requestParams","val","$nextTick","created","component"],"mappings":"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","file":"js/chunk-0bc002f0.9eca946f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-card',[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\"}},[_c('el-input',{model:{value:(_vm.subjectList.subjectName),callback:function ($$v) {_vm.$set(_vm.subjectList, \"subjectName\", $$v)},expression:\"subjectList.subjectName\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{on:{\"click\":_vm.delFn}},[_vm._v(\"清除\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getList}},[_vm._v(\"搜索\")])],1),_c('el-col',{staticClass:\"btnRight\",attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.isDialog = true}}},[_vm._v(\"新增学科\")])],1)],1)],1),_c('el-alert',{attrs:{\"title\":(\"数据一共\" + _vm.items + \"条\"),\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"subjectName\",\"label\":\"学科名称\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"创作者\",\"width\":\"130\"}}),_c('el-table-column',{attrs:{\"prop\":\"addDate\",\"label\":\"创建日期\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"parseTimeByString\")(scope.row.addDate))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"isFrontDisplay\",\"label\":\"前台是否显示\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.isFrontDisplay === 1 ? '是' : '否')+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"twoLevelDirectory\",\"label\":\"二级目录\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"tags\",\"label\":\"标签\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"prop\":\"totals\",\"label\":\"题目数量\",\"width\":\"140\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"btns\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.$router.push(\n                (\"directorys?id=\" + (scope.row.id) + \"&name=\" + (scope.row.subjectName))\n              )}}},[_vm._v(\"学科分类\")]),_c('el-button',{staticClass:\"btns\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.$router.push(\n                (\"tags?id=\" + (scope.row.id) + \"&name=\" + (scope.row.subjectName))\n              )}}},[_vm._v(\"学科标签\")]),_c('el-button',{staticClass:\"btns\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.revise(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{staticClass:\"btns\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.delRole(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.subjectList.page,\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.subjectList.pagesize,\"layout\":\" prev, pager, next,sizes, jumper\",\"total\":_vm.items},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"新增学科\",\"visible\":_vm.isDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.isDialog=$event}}},[_c('el-row',[_c('el-col',[_c('el-form',{ref:\"roleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"label-width\":\"80px\",\"prop\":\"subjectName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入学科名称\"},model:{value:(_vm.ruleForm.subjectName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"subjectName\", $$v)},expression:\"ruleForm.subjectName\"}})],1),_c('el-form-item',{staticClass:\"item\",attrs:{\"label\":\"是否显示\",\"prop\":\"delivery\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.subjectList.isFrontDisplay),callback:function ($$v) {_vm.$set(_vm.subjectList, \"isFrontDisplay\", $$v)},expression:\"subjectList.isFrontDisplay\"}},[_vm._v(\" >\")])],1)],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.isDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.btnOk}},[_vm._v(\"确认\")])],1)],1),_c('SubjectsAdd',{ref:\"subjectsadd\",attrs:{\"data\":_vm.currSubject},on:{\"updateList\":function($event){return _vm.updateList()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <el-card>\r\n      <!-- 搜索 -->\r\n      <el-form label-width=\"80px\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"6\">\r\n            <el-form-item label=\"活动名称\">\r\n              <el-input v-model=\"subjectList.subjectName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-button @click=\"delFn\">清除</el-button>\r\n            <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n          </el-col>\r\n          <el-col :span=\"12\" class=\"btnRight\">\r\n            <el-button\r\n              type=\"success\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"isDialog = true\"\r\n              >新增学科</el-button\r\n            >\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <el-alert\r\n        :title=\"`数据一共${items}条`\"\r\n        type=\"info\"\r\n        :closable=\"false\"\r\n        show-icon\r\n      >\r\n      </el-alert>\r\n      <!-- 表格 -->\r\n      <el-table :data=\"list\" style=\"width: 100%\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"60\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"subjectName\"\r\n          label=\"学科名称\"\r\n          width=\"140\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"username\"\r\n          label=\"创作者\"\r\n          width=\"130\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"addDate\" label=\"创建日期\" width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.addDate | parseTimeByString }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"isFrontDisplay\" label=\"前台是否显示\" width=\"140\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.isFrontDisplay === 1 ? '是' : '否' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"twoLevelDirectory\"\r\n          label=\"二级目录\"\r\n          width=\"140\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"tags\" label=\"标签\" width=\"140\"></el-table-column>\r\n        <el-table-column\r\n          prop=\"totals\"\r\n          label=\"题目数量\"\r\n          width=\"140\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"250\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- tags -->\r\n            <el-button\r\n              class=\"btns\"\r\n              type=\"text\"\r\n              @click=\"\r\n                $router.push(\r\n                  `directorys?id=${scope.row.id}&name=${scope.row.subjectName}`\r\n                )\r\n              \"\r\n              >学科分类</el-button\r\n            >\r\n            <el-button\r\n              class=\"btns\"\r\n              type=\"text\"\r\n              @click=\"\r\n                $router.push(\r\n                  `tags?id=${scope.row.id}&name=${scope.row.subjectName}`\r\n                )\r\n              \"\r\n              >学科标签</el-button\r\n            >\r\n            <el-button class=\"btns\" type=\"text\" @click=\"revise(scope.row)\"\r\n              >修改</el-button\r\n            >\r\n            <el-button class=\"btns\" type=\"text\" @click=\"delRole(scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"subjectList.page\"\r\n        :page-sizes=\"[5, 10, 20, 50]\"\r\n        :page-size=\"subjectList.pagesize\"\r\n        layout=\" prev, pager, next,sizes, jumper\"\r\n        :total=\"items\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n\r\n    <!-- 弹出层 -->\r\n    <el-dialog title=\"新增学科\" :visible.sync=\"isDialog\" width=\"30%\">\r\n      <el-row>\r\n        <el-col>\r\n          <el-form ref=\"roleForm\" :model=\"ruleForm\" :rules=\"rules\">\r\n            <el-form-item\r\n              label=\"活动名称\"\r\n              label-width=\"80px\"\r\n              prop=\"subjectName\"\r\n            >\r\n              <el-input\r\n                v-model=\"ruleForm.subjectName\"\r\n                placeholder=\"请输入学科名称\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"是否显示\" prop=\"delivery\" class=\"item\">\r\n              <el-switch\r\n                v-model=\"subjectList.isFrontDisplay\"\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#ff4949\"\r\n              >\r\n                ></el-switch\r\n              >\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"isDialog = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"btnOk\">确认</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <SubjectsAdd\r\n      ref=\"subjectsadd\"\r\n      :data=\"currSubject\"\r\n      @updateList=\"updateList()\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { list, add, remove } from '@/api/hmmm/subjects'\r\nimport SubjectsAdd from '../components/subjects-add'\r\n\r\nexport default {\r\n  components: { SubjectsAdd },\r\n  name: 'SubjectsList',\r\n  data () {\r\n    return {\r\n      currSubject: {},\r\n      switchs: true,\r\n      subjectList: {\r\n        page: 1, // 当前页数\r\n        pagesize: 10, // 每页显示条数\r\n        isFrontDisplay: 1\r\n      },\r\n      list: [], // 学科列表\r\n      items: 0, // 数据条数\r\n      inpVal: '',\r\n      isDialog: false,\r\n      isDelRoleDialog: false,\r\n      ruleForm: {\r\n        subjectName: ''\r\n      },\r\n      rules: {\r\n        subjectName: [\r\n          { required: true, message: '请输入学科名称', trigger: 'blur' }\r\n        ]\r\n      },\r\n\r\n      // 修改\r\n      formModel: {\r\n        id: null,\r\n        subjectName: null,\r\n        isFrontDisplay: 1\r\n      },\r\n      // 修改验证\r\n      formRules: {\r\n        subjectName: [\r\n          { required: true, message: '请输入学科名称', tirgger: 'blur' }\r\n        ],\r\n        isFrontDisplay: [\r\n          { type: 'number', message: '请选择是否显示', tirgger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateList () {\r\n      if (!this.currSubject.id) {\r\n        this.requestParams.page = 1\r\n      }\r\n      this.getList()\r\n    },\r\n    // 打开弹出层\r\n    revise (val) {\r\n      this.currSubject = val\r\n      this.$nextTick(() => {\r\n        this.$refs.subjectsadd.open()\r\n      })\r\n    },\r\n    // 删除\r\n    async delRole (id) {\r\n      await this.$confirm('此操作将永久删除该学科, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n      await remove(id)\r\n      this.$message.success('删除成功')\r\n      this.getList()\r\n    },\r\n    // 点击新增学科\r\n    async btnOk () {\r\n      try {\r\n        console.log(1)\r\n        await this.$refs.roleForm.validate()\r\n        await add({\r\n          subjectName: this.ruleForm.subjectName,\r\n          isFrontDisplay: this.subjectList.isFrontDisplay\r\n        })\r\n        this.getList()\r\n        this.$message.success('添加学科成功')\r\n        this.isDialog = false\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    },\r\n    // 取消搜索\r\n    delFn () {\r\n      this.subjectList.subjectName = ''\r\n    },\r\n    // onSubmit(){},\r\n    handleSizeChange (val) {\r\n      // console.log(`每页 ${val} 条`);1\r\n      this.subjectList.pagesize = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange (val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.subjectList.page = val\r\n      this.getList()\r\n    },\r\n    async getList () {\r\n      try {\r\n        const { data } = await list(this.subjectList)\r\n        console.log(data)\r\n        this.list = data.items\r\n        this.items = data.counts\r\n        // this.$messgae.success('获取学科列表成功')\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getList()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.btn {\r\n  margin-left: 10px;\r\n}\r\n.el-alert {\r\n  margin-bottom: 20px;\r\n}\r\n.el-pagination {\r\n  text-align: right;\r\n  margin-top: 20px;\r\n}\r\n.btns {\r\n  float: left;\r\n}\r\n.item {\r\n  margin-left: 10px;\r\n}\r\n.btnRight {\r\n  text-align: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subjects.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subjects.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./subjects.vue?vue&type=template&id=5dcb1edf&scoped=true&\"\nimport script from \"./subjects.vue?vue&type=script&lang=js&\"\nexport * from \"./subjects.vue?vue&type=script&lang=js&\"\nimport style0 from \"./subjects.vue?vue&type=style&index=0&id=5dcb1edf&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dcb1edf\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subjects.vue?vue&type=style&index=0&id=5dcb1edf&scoped=true&lang=less&\""],"sourceRoot":""}